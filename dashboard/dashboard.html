<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>자동매매 실시간 대시보드</title>
  <meta name="viewport" content="width=1200, initial-scale=1.0" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>
</head>

<body class="bg-gray-900 text-white">
  <div class="max-w-6xl mx-auto p-4 sm:p-6">
    <h1 class="text-2xl font-bold mb-4">📈 자동매매 실시간 대시보드</h1>

    <!-- Equity -->
    <div class="bg-gray-800 p-4 rounded-lg mb-4">
      <h2 class="text-xl font-semibold">Equity</h2>
      <p id="equity" class="text-3xl text-green-400">-</p>
    </div>

    <!-- Symbol Risk -->
    <div class="bg-gray-800 p-4 rounded-lg mb-4">
      <h2 class="text-xl font-semibold mb-1">Current Risk by Symbol</h2>
      <pre id="entry_restrict" class="whitespace-pre-wrap text-sm text-yellow-300">-</pre>
    </div>

    <!-- 실시간 차트 (3개 심볼 1h) -->
    <div class="bg-gray-800 p-4 rounded-lg mb-4">
      <h2 class="text-xl font-semibold mb-2">📊 실시간 캔들 차트 (1h, 심볼별)</h2>
      <div class="space-y-6">
        <div>
          <div class="text-sm text-gray-300 mb-1">AVAX/USDT:USDT</div>
          <div class="w-full h-[220px] bg-gray-900 rounded-md">
            <canvas id="chart-btc" class="w-full h-full"></canvas>
          </div>
          <div class="w-full h-[140px] bg-gray-900 rounded-md mt-2">
            <canvas id="cci-btc" class="w-full h-full"></canvas>
          </div>
        </div>
        <div>
          <div class="text-sm text-gray-300 mb-1">OKB/USDT:USDT</div>
          <div class="w-full h-[220px] bg-gray-900 rounded-md">
            <canvas id="chart-eth" class="w-full h-full"></canvas>
          </div>
          <div class="w-full h-[140px] bg-gray-900 rounded-md mt-2">
            <canvas id="cci-eth" class="w-full h-full"></canvas>
          </div>
        </div>
        <div>
          <div class="text-sm text-gray-300 mb-1">SOL/USDT:USDT</div>
          <div class="w-full h-[220px] bg-gray-900 rounded-md">
            <canvas id="chat-sol" class="w-full h-full"></canvas>
          </div>
          <div class="w-full h-[140px] bg-gray-900 rounded-md mt-2">
            <canvas id="cci-sol" class="w-full h-full"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- 현재 포지션: 표 형태 -->
    <div class="bg-gray-800 p-4 rounded-lg mb-4">
      <h2 class="text-xl font-semibold mb-2">현재 포지션</h2>
      <div id="position" class="text-xs sm:text-sm"></div>
    </div>

    <!-- 포지션 히스토리 -->
    <div class="bg-gray-800 p-4 rounded-lg mb-4">
      <h2 class="text-xl font-semibold mb-2">포지션 히스토리</h2>
      <div id="logs" class="text-xs sm:text-sm h-[220px] overflow-y-auto overflow-x-auto"></div>
    </div>
  </div>

  <script src="/static/dashboard.js?v=20260110_01"></script>

  <!-- 모바일에서 콘솔 보기용 -->
  <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
  <script>
    eruda.init();
  </script>
</body>
</html>
